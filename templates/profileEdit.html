{% extends 'base.html' %}
{% load static %}

{% block body_block %}
    <h1>Edit your profile</h1>

    <form id="editProfile" method="post" action="." enctype='multipart/form-data'>
        {% csrf_token %}

        {% for hidden in profileForm.hidden_fields %}
            {{ hidden }}
        {% endfor %}

        {% for field in profileForm.visible_fields %}
            <p>
            {{ field.errors }}
            {{ field.help_text }}
            {{ field }}
            </p>
        {% endfor %}


        Portfolio links:
        <div id="portfolio">
            <div id="existingPortfolio">
                {% for link in portfolioLinks.all %}
                    <p>
                        <a id="link" href="{{ link.link }}">{{ link.link }}</a>
                        <span id="removeExistingLink" role="button" class="glyphicon glyphicon-remove-sign remove-portfolio-link"></span>
                    </p>
                {% endfor %}
            </div>
            <div id="linkForms"></div>
            <span id="addToPortfolio" role="button" class="glyphicon glyphicon-plus-sign" style="color: green; font-size: 1.5em;"></span>
        </div>

        {% for hidden in userForm.hidden_fields %}
            {{ hidden }}
        {% endfor %}

        {% for field in userForm.visible_fields %}
            <p>
            {{ field.errors }}
            {{ field.help_text }}
            {{ field }}
            </p>
        {% endfor %}

        <input type="submit" value="Update" />
    </form>

    <form method="post" action=".">
        {% csrf_token %}
    </form>

    <a href="{% url 'auth_password_change' %}">Change Password</a>

{% endblock %}

{% block js_src %}
    <script src="{% static 'js/jquery.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/searchAndPortfolio.js' %}"></script>
{% endblock %}
